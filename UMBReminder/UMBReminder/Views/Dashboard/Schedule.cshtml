@{
	ViewData["Title"] = "Schedule";
	Layout = "~/Views/Shared/MasterLayout.cshtml";
}

<div class="row-fluid sortable">
		<div class="box span12">
			<div class="box-header" data-original-title>
				<h2><i class="halflings-icon briefcase"></i><span class="break"></span>Kalender Akademik</h2>
				<div class="box-icon">
					<a href="#" class="btn-setting"><i class="halflings-icon wrench"></i></a>
					<a href="#" class="btn-minimize"><i class="halflings-icon chevron-up"></i></a>
				</div>
			</div>
			<div class="box-content">
				<table id="tblSchedule" class="table table-striped table-bordered bootstrap-datatable datatable">
					<thead>
						<tr>
							<th>Status</th>
							<th>Kode Kelas Program</th>
							<th>Tahun Ajaran</th>
							<th>Semester</th>>
							<th>Kelas Program</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						@*<tr>
							<td class="center">
								<span class="label label-success">Active</span>
							</td>
							<td>2017-1-1</td>
							<td class="center">2017</td>
							<td class="center">Ganjil</td>
							<td class="center">Reguler 1
							</td>
							<td class="center">
								<a class="btn btn-success" href="#">
									<i class="halflings-icon white zoom-in"></i>
								</a>
								<a class="btn btn-info" href="#">
									<i class="halflings-icon white edit"></i>
								</a>
								<a class="btn btn-danger" href="#">
									<i class="halflings-icon white trash"></i>
								</a>
							</td>
						</tr>
						<tr>
							<td class="center">
								<span class="label label-important">Unconfirmed</span>
							</td>
							<td>2018-1-3</td>
							<td class="center">2018</td>
							<td class="center">Ganjil</td>
							<td class="center">Reguler 3</td>
							<td class="center">
								<a class="btn btn-success" href="#">
									<i class="halflings-icon white zoom-in"></i>
								</a>
								<a class="btn btn-info" href="#">
									<i class="halflings-icon white edit"></i>
								</a>
								<a class="btn btn-danger" href="#">
									<i class="halflings-icon white trash"></i>
								</a>
							</td>
						</tr>
						<tr>
							<td class="center">
								<span class="label label-warning">Confirmed</span>
							</td>
							<td>2017-1-2</td>
							<td class="center">2017</td>
							<td class="center">Ganjil</td>
							<td class="center">Reguler 2</td>
							<td class="center">
								<a class="btn btn-success" href="#">
									<i class="halflings-icon white zoom-in"></i>
								</a>
								<a class="btn btn-info" href="#">
									<i class="halflings-icon white edit"></i>
								</a>
								<a class="btn btn-danger" href="#">
									<i class="halflings-icon white trash"></i>
								</a>
							</td>
						</tr>
						<tr>
							<td class="center">
								<span class="label">Inactive</span>
							</td>
							<td>2016-2-2</td>
							<td class="center">2016</td>
							<td class="center">Genap</td>
							<td class="center">Reguler 2</td>
							<td class="center">
								<a class="btn btn-success" href="#">
									<i class="halflings-icon white zoom-in"></i>
								</a>
								<a class="btn btn-info" href="#">
									<i class="halflings-icon white edit"></i>
								</a>
								<a class="btn btn-danger" href="#">
									<i class="halflings-icon white trash"></i>
								</a>
							</td>
						</tr>*@
					</tbody>
				</table>
			</div>
		</div><!--/span-->
	</div><!--/row-->

<div class="row-fluid sortable">
	<div class="box span12">
		<div class="box-header" data-original-title>
			<h2><i class="halflings-icon edit"></i><span class="break"></span>Input Schedule</h2>
			<div class="box-icon">
				<a href="#" class="btn-setting"><i class="halflings-icon wrench"></i></a>
				<a href="#" class="btn-minimize"><i class="halflings-icon chevron-up"></i></a>
				<a href="#" class="btn-close"><i class="halflings-icon remove"></i></a>
			</div>
		</div>
		<div class="box-content">

			<form id="input-schedule" class="form-horizontal">

				<div class="control-group">
					<label class="control-label" for="KelasProgramReg">Kelas Program</label>
					<div class="controls">
						<select id="KelasProgram" name="KelasProgramReg">
							<option>Reguler 1</option>
							<option>Reguler 2</option>
							<option>Reguler 3</option>
						</select>
					</div>
				</div>

				<div class="control-group">
					<label class="control-label" for="tahunajaran">Tahun Ajaran</label>
					<div class="controls">
						<input class="input-xlarge focused" id="TahunAjaran" name="TahunAjaran" value="" type="text">
					</div>
				</div>

				<div class="control-group">
					<label class="control-label" for="semester">Semester</label>
					<div class="controls">
						<select id="Semester" name="Semester">
							<option>Ganjil</option>
							<option>Genap</option>
						</select>
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="date01" style="margin-right:5px;">Pengisian KRS</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="KrsStart" name="KRSStart" style="width:105px;">
					</div>
					<div class="span1">
						<input type="text" class="input-xlarge size2 datepicker" id="KrsEnd" name="KRSEnd" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="PembukaanPerkuliahan" style="margin-right:5px;">Pembukaan Perkuliahan</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="PembukaanPerkuliahan" name="PembukaanPerkuliahan" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="BatalKrsStart" style="margin-right:5px;">Batal KRS</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="BatalKrsStart" name="BatalKrsStart" style="width:105px;">
					</div>
					<div class="span3">
						<input type="text" class="input-xlarge size2 datepicker" id="BatalKrsEnd" name="BatalKrsName" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="CutiEnd" style="margin-right:5px;">Batas Pengajuan Cuti</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="CutiEnd" name="CutiEnd" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="Perkuliahan1" style="margin-right:5px;">Perkuliahan I</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="Perkuliahan1Start" name="Perkuliahan1Start" style="width:105px;">
					</div>
					<div class="span3">
						<input type="text" class="input-xlarge size2 datepicker" id="Perkuliahan1End" name="Perkuliahan1End" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="UTS" style="margin-right:5px;">Ujian Tengah Semester (UTS)</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="UTSStart" name="UTSStart" style="width:105px;">
					</div>
					<div class="span3">
						<input type="text" class="input-xlarge size2 datepicker" id="UTSEnd" name="UTSEnd" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="Perkuliahan1" style="margin-right:5px;">Perkuliahan II</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="Perkuliahan2Start" name="Perkuliahan2Start" style="width:105px;">
					</div>
					<div class="span3">
						<input type="text" class="input-xlarge size2 datepicker" id="Perkuliahan2End" name="Perkuliahan2End" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="UAS" style="margin-right:5px;">Ujian Akhir Semester (UAS)</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="UASStart" name="UASStart" style="width:105px;">
					</div>
					<div class="span3">
						<input type="text" class="input-xlarge size2 datepicker" id="UASEnd" name="UASEnd" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<div class="span3">
						<label class="control-label" for="HasilStudi" style="margin-right:5px;">Hasil Studi</label>
						&nbsp;&nbsp;&nbsp;
						<input type="text" class="datepicker" id="HasilStudi" name="HasilStudi" style="width:105px;">
					</div>
				</div>

				<div class="control-group">
					<label class="control-label" for="Status">Status</label>
					<div class="controls">
						<select id="Status" name="Status">
							<option>Active</option>
							<option>Confirmed</option>
							<option>Unconfirmed</option>
							<option>Inactive</option>
						</select>
					</div>
				</div>

				@*<div class="control-group hidden-phone">
						<label class="control-label" for="textarea2">Textarea WYSIWYG</label>
						<div class="controls">
							<textarea class="cleditor" id="textarea2" rows="3"></textarea>
						</div>
					</div>*@

				<div class="form-actions">
					<button id="SubmitSchedule" type="button" class="btn btn-primary">Save changes</button>
					<button type="reset" class="btn">Cancel</button>
				</div>

			</form>

		</div>
	</div><!--/span-->
</div><!--/row-->

<!--/.fluid-container-->
<!-- end: Content -->

@section scripts {

	<script src="~/js/inputschedule.js"></script>
	<script src="~/js/jquery.uniform.min.js"></script>

	<script>
		$(document).ready(function () {

			//For DataTables Later
			var _url = "http://localhost:8080/Dashboard/GetSchedule/";

            $("#tblSchedule").DataTable({

                "iDisplayLength": 10,
                "sServerMethod": "POST",
                "bServerSide": true,
                "bDestroy": true,
                "sPaginationType": "full_numbers",
                "sAjaxSource": _url,
                "aaSorting": [],
                "bProcessing": true,
                "aoColumns": [
                    { "mData": "Status"},
                    { "mDataProp": "KodeKelasProgram", "sClass": "centerdata" },
                    { "mDataProp": "TahunAjaran", "sClass": "centerdata" },
                    { "mDataProp": "Semester", "sClass": "centerdata" },
                    { "mDataProp": "KelasProgramReg", "sClass": "centerdata" }, 
                    {
                        'mRender': function (data, type, full) {
                            return '<a class="btn btn-info" href=\'javascript:;\' data-clientid=edit\'' + full[1] + '\' ><i class="halflings-icon white edit" ></i></a>' +
                                '<a class="btn btn-danger" href=\'javascript:;\' data-clientid=\'' + full[1] + '\' ><i class="halflings-icon white trash" ></i></a>';
                        }
                    }
                ],
			});

		});


		$(document).on('click', '#SubmitSchedule', function () {
			var _url = "/Dashboard/Schedule/";
			var form = $("#input-schedule").serializeArray();            

			$.ajax({
				type: "POST",
				url: _url,
				data: form,
				cache: false,
				dataType: "json",
				success: function (o) { 
					if (o.status) {
						alert("Sukses");
					} else {
						alert("Gagal");
					}
				},
				error: function (o) {
					alert("There's an error in Ajax process");
				}
			});

		});
	</script>
}

